@using TCVWeb.Areas.Admin.Models
@model ShopItem
@{
    Layout = null;
    var catList = (List<SelectItemModel>)ViewBag.ItemCats;
    var exportList = (List<SelectExportModel>)ViewBag.Export;
    var sizeList = (List<SelectItemModel>)ViewBag.SizeList;
}
<style>
    input.currency {
        text-align: right;
        padding-right: 15px;
    }
</style>

<div class="form-horizontal">
    @Html.HiddenFor(m => m.Id)
    @Html.HiddenFor(m => m.CreateTime)
    @Html.HiddenFor(m => m.Status)

    <div class="row">
        <p>Vui lòng chọn phân loại, nơi xuất hàng, nước xuất hàng, kích thước để tạo mã hàng.</p>
        <p style="color: red;">Vui lòng chọn nhập đầy đủ trường đánh dấu '*'.</p>
        <div class="col-md-7">
            <div class="form-group">
                <label asp-for="SKU" class="col-sm-3 control-label"></label><span style="color:red;">*</span>
                <div class="col-sm-9">
                    <input asp-for="SKU" id="SKU" class="form-control" , required="" />
                </div>
            </div>
            <div class="form-group">
                <label asp-for="Name" class="col-sm-3 control-label"></label><span style="color:red;">*</span>
                <div class="col-sm-9">
                    <input asp-for="Name" class="form-control" , required="Vui long dien ten san pham" />
                </div>
            </div>
            <div class="form-group">
                <label asp-for="NameEn" class="col-sm-3 control-label"></label>
                <div class="col-sm-9">
                    <input asp-for="NameEn" class="form-control" />
                </div>
            </div>
            <div class="form-group">
                <label asp-for="ItemCats" class="col-sm-3 control-label"></label><span style="color:red;">*</span>
                <div class="col-sm-9">
                    <select id="ItemCats" name="ItemCats" class="form-control", required>
                        @if (catList != null)
                        {
                            @foreach (var item in catList)
                            {
                                if (item.selected)
                                {
                                    <option value="@item.id" selected>@item.text</option>
                                }
                                else
                                {
                                    <option value="@item.id">@item.text</option>
                                }
                            }
                        }
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="Exports" class="col-sm-3 control-label"></label><span style="color:red;">*</span>
                <div class="col-sm-9">
                    <select id="Exports" name="Exports" class="form-control", required>
                        @if (exportList != null)
                        {
                            @foreach (var item in exportList)
                            {
                                if (item.selectedParent)
                                {
                                    <option value="@item.parentId" selected>@item.parentText</option>
                                }
                                else
                                {
                                    <option value="@item.parentId">@item.parentText</option>
                                }
                            }
                        }
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label asp-for="ExportsPlace" class="col-sm-3 control-label"></label><span style="color:red;">*</span>
                <div class="col-sm-9">
                    <select id="ExportsPlace" name="ExportsPlace" class="form-control", required>
                        @if (exportList != null)
                        {
                            @foreach (var item in exportList)
                            {
                                if (item.selected)
                                {
                                    <option value="@item.id" selected>@item.text</option>
                                }
                                else
                                {
                                    <option value="@item.id">@item.text</option>
                                }
                            }
                        }
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="SizeProduct" class="col-sm-3 control-label"></label><span style="color:red;">*</span>
                <div class="col-sm-9">
                    <select id="SizeProduct" name="SizeProduct" class="form-control", required>
                        @if (exportList != null)
                        {
                            @foreach (var item in sizeList)
                            {
                                if (item.selected)
                                {
                                    <option value="@item.id" selected>@item.text</option>
                                }
                                else
                                {
                                    <option value="@item.id">@item.text</option>
                                }
                            }
                        }
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="RegularPrice" class="col-sm-3 control-label"></label><span style="color:red;">*</span>
                <div class="col-sm-9" style="">
                    <input id="regularPrice" asp-for="RegularPrice" asp-format="{0:#,#}" class="form-control" type="text" placeholder="Giá theo VNĐ" , required="" />
                </div>
            </div>
            <div class="form-group">
                <label asp-for="RegularPriceEn" class="col-sm-3 control-label"></label>
                <div class="col-sm-9">
                    <input asp-for="RegularPriceEn" class="form-control" />
                </div>
            </div>

            <div class="form-group">
                <label asp-for="SalePrice" class="col-sm-3 control-label"></label><span style="color:red;">*</span>
                <div class="col-sm-9">
                    <input id="salePrice" asp-for="SalePrice" asp-format="{0:#,#}" class="form-control" placeholder="Giá theo VNĐ" , required="" />
                </div>
            </div>
            <div class="form-group">
                <label asp-for="SalePriceEn" class="col-sm-3 control-label"></label>
                <div class="col-sm-9">
                    <input asp-for="SalePriceEn" class="form-control" />
                </div>
            </div>
            <div class="form-group">
                <label asp-for="ItemTags" class="col-sm-3 control-label"></label>
                <div class="col-sm-9">
                    <input asp-for="ItemTags" class="form-control" />
                </div>
            </div>
            <div class="form-group">
                <label asp-for="Preview" class="col-sm-3 control-label"></label><span style="color:red;">*</span>
                <div class="col-sm-9">
                    <textarea asp-for="Preview" class="form-control" rows="3" , required=""></textarea>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="PreviewEn" class="col-sm-3 control-label"></label>
                <div class="col-sm-9">
                    <textarea asp-for="PreviewEn" class="form-control" rows="3"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="Status" class="col-sm-3 control-label"></label>
                <div class="col-sm-9">
                    <select asp-for="Status" asp-items="@Html.GetEnumSelectList(Model.Status.GetType())" class="form-control"></select>
                </div>
            </div>
        </div>
        <hr />
        <label asp-for="Image" class="col-md-4 control-label" style="font-size: 25px;"></label>
        <br />
        <br />
        <br />
        <div class="col-md-5">
            <br />
            <div class="thumb-info mb-md">
                @Html.HiddenFor(m => m.Image)
                <img src="@Model.Image" id="avatar" class="rounded img-responsive" alt="">
                <div class="thumb-info-title" style="bottom: 0; background: transparent;">
                    <a class="btn btn-primary" href="@Url.Action("FileBrowser", "Media", new { @input = "Image", @image = "avatar" })" data-modal="" title="Cập nhật hình đại diện"><i class="fa fa-image"></i></a>
                </div>
            </div>
        </div>
    </div>
    <hr />
    <h1>Nội dung</h1>
    <div class="form-group">
        <div class="col-md-12">
            @Html.SummerNoteFor(m => m.Content)
        </div>
    </div>

    <h1>Nội dung English</h1>
    <div class="form-group">
        <div class="col-md-12">
            @Html.SummerNoteFor(m => m.ContentEn)
        </div>
    </div>
</div>
<script>
    document.getElementById("regularPrice").onblur = function () {
        this.value = parseFloat(this.value.replace(/,/g, ""))
            .toString()
            .replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        if (this.value == "NaN")
            this.value = 0;
    }
    document.getElementById("salePrice").onblur = function () {
        this.value = parseFloat(this.value.replace(/,/g, ""))
            .toString()
            .replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        if (this.value == "NaN")
            this.value = 0;
    }
    document.getElementById("SKU").readOnly = true;
    document.getElementById("SKU").style.color = "#c0c0c0";

</script>